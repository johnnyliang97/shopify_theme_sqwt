class SwiperComponent extends HTMLElement{constructor(){super(),this.swiperOptions=JSON.parse(this.getAttribute("data-swiper-options"))||{},this.swiperInitialized=!1,this.section=this.closest("section"),this.observer=null}connectedCallback(){this.section&&this.section.classList.contains("shopify-section")&&(this.observer=new IntersectionObserver((e,s)=>{e.forEach(e=>{e.isIntersecting&&(this.init(),s.disconnect())})}),this.observer.observe(this.section)),Shopify.designMode?(window.addEventListener("shopify:section:load",()=>this.init()),window.addEventListener("shopify:section:select",()=>this.init()),setTimeout(()=>{this.swiperInitialized||this.init()},100)):window.addEventListener("load",()=>this.init())}init(){if(this.swiperInitialized)return;this.swiperInitialized=!0;const e=this.swiperOptions,s={slideshowId:e.swiperId||"",slideCount:e.slideCount||1,slidesPerView:e.slidesPerView||"auto",speed:e.speed||0,slidesPerViewDesktop:e.slidesPerViewDesktop||e.slidesPerView||4,slidesPerViewTablet:e.slidesPerViewTablet||e.slidesPerViewDesktop||e.slidesPerView||3,spaceBetween:e.spaceBetweenMobile||0,spaceBetweenDesktop:e.spaceBetweenDesktop||e.spaceBetween||0,spaceBetweenTablet:e.spaceBetweenTablet||e.spaceBetweenDesktop||e.spaceBetweenMobile||0,enabled:e.enabled??!0,enabledDesktop:e.enabledDesktop??e.enabled??!0,enabledTablet:e.enabledTablet??e.enabledDesktop??e.enabled??!0,allowTouchMove:e.allowTouchMove??("number"==typeof e.slidesPerView&&e.slideCount>e.slidesPerView),allowTouchMoveTablet:e.allowTouchMoveTablet??("number"!=typeof e.slidesPerViewTablet||e.slideCount>e.slidesPerViewTablet),mousewheel:e.mousewheel||{enabled:!0,forceToAxis:!0},allowTouchMoveDesktop:e.allowTouchMoveDesktop??("number"!=typeof e.slidesPerViewDesktop||e.slideCount>e.slidesPerViewDesktop)};if(this.swiperOptions={a11y:!1,allowTouchMove:1==e.allowTouchMove,loop:e.loop||!1,rewind:e.rewind||!1,disableOnInteraction:1==e.disableOnInteraction,enabled:s.enabled,watchOverflow:!0,speed:e.speed||500,observer:!0,cache:!0,freeMode:e.freeMode??!0,slidesOffsetAfter:e.slidesOffsetAfterMobile||0,slidesPerView:s.slidesPerView,spaceBetween:s.spaceBetween,mousewheel:e.mousewheel||{enabled:!0,forceToAxis:!0},resistanceRatio:0,allowTouchMove:s.allowTouchMove??!0,breakpoints:{750:{enabled:s.enabledTablet,allowTouchMove:s.allowTouchMoveTablet||!0,slidesPerView:s.slidesPerViewTablet,spaceBetween:s.spaceBetweenTablet},990:{slidesOffsetAfter:e.slidesOffsetAfterDesktop||0,enabled:s.enabledDesktop,allowTouchMove:s.allowTouchMoveDesktop||!0,slidesPerView:s.slidesPerViewDesktop,spaceBetween:s.spaceBetweenDesktop}}},e.navigation&&(this.swiperOptions.navigation={...e.navigation}),"fade"==e.effect&&(this.swiperOptions.effect="fade",this.swiperOptions.fadeEffect={crossFade:!0}),"custom_bullet"==e.pagination?this.swiperOptions.pagination={el:e.paginationElement,clickable:!0,renderBullet:function(e,s){return`\n              <button class="${s}">\n                <span></span>\n              </button>\n            `}}:this.swiperOptions.pagination={el:`.swiper-pagination--${e.swiperId}`,clickable:!0},e.autoplay&&(this.swiperOptions.autoplay={...e.autoplay},e.autoplayProgress)){const s=this.querySelector(`.autoplay-progress--${e.swiperId} svg`),i=this.querySelector(`.autoplay-progress--${e.swiperId} span`);this.swiperOptions.on={autoplayTimeLeft(e,t,o){s.style.setProperty("--progress",1-o),i.textContent=`${Math.ceil(t/1e3)}`}}}this.swiper=new Swiper(this,{...this.swiperOptions})}}customElements.define("swiper-component",SwiperComponent);